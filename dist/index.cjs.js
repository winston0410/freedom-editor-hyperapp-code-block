"use strict";var e=e=>e?e.data.code:"",n={},t=[],r=e=>e,o=t.map,l=Array.isArray,i="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout,s=e=>{var n="";if("string"==typeof e)return e;if(l(e))for(var t,r=0;r<e.length;r++)(t=s(e[r]))&&(n+=(n&&" ")+t);else for(var r in e)e[r]&&(n+=(n&&" ")+r);return n},a=(e,n)=>{for(var t in{...e,...n})if("function"==typeof(l(n[t]=e[t])?n[t][0]:n[t]));else if(e[t]!==n[t])return!0},d=e=>null==e?e:e.key,u=(e,n,t,r,o,l)=>{if("key"===n);else if("style"===n)for(var i in{...t,...r})t=null==r||null==r[i]?"":r[i],"-"===i[0]?e[n].setProperty(i,t):e[n][i]=t;else"o"===n[0]&&"n"===n[1]?((e.tag||(e.tag={}))[n=n.slice(2)]=r)?t||e.addEventListener(n,o):e.removeEventListener(n,o):!l&&"list"!==n&&"form"!==n&&n in e?e[n]=null==r?"":r:null==r||!1===r||"class"===n&&!(r=s(r))?e.removeAttribute(n):e.setAttribute(n,r)},c=(e,n,t)=>{var r=e.props,o=3===e.tag?document.createTextNode(e.type):(t=t||"svg"===e.type)?document.createElementNS("http://www.w3.org/2000/svg",e.type,{is:r.is}):document.createElement(e.type,{is:r.is});for(var l in r)u(o,l,null,r[l],n,t);for(var i=0;i<e.children.length;i++)o.appendChild(c(e.children[i]=m(e.children[i]),n,t));return e.node=o},f=(e,n,t,r,o,l)=>{if(t===r);else if(null!=t&&3===t.tag&&3===r.tag)t.type!==r.type&&(n.nodeValue=r.type);else if(null==t||t.type!==r.type)n=e.insertBefore(c(r=m(r),o,l),n),null!=t&&e.removeChild(t.node);else{var i,s,a,p,v=t.props,y=r.props,h=t.children,g=r.children,C=0,k=0,w=h.length-1,b=g.length-1;for(var A in l=l||"svg"===r.type,{...v,...y})("value"===A||"selected"===A||"checked"===A?n[A]:v[A])!==y[A]&&u(n,A,v[A],y[A],o,l);for(;k<=b&&C<=w&&null!=(a=d(h[C]))&&a===d(g[k]);)f(n,h[C].node,h[C],g[k]=m(g[k++],h[C++]),o,l);for(;k<=b&&C<=w&&null!=(a=d(h[w]))&&a===d(g[b]);)f(n,h[w].node,h[w],g[b]=m(g[b--],h[w--]),o,l);if(C>w)for(;k<=b;)n.insertBefore(c(g[k]=m(g[k++]),o,l),(s=h[C])&&s.node);else if(k>b)for(;C<=w;)n.removeChild(h[C++].node);else{var E={},N={};for(A=C;A<=w;A++)null!=(a=h[A].key)&&(E[a]=h[A]);for(;k<=b;)a=d(s=h[C]),p=d(g[k]=m(g[k],s)),N[a]||null!=p&&p===d(h[C+1])?(null==a&&n.removeChild(s.node),C++):null==p||1===t.tag?(null==a&&(f(n,s&&s.node,s,g[k],o,l),k++),C++):(a===p?(f(n,s.node,s,g[k],o,l),N[p]=!0,C++):null!=(i=E[p])?(f(n,n.insertBefore(i.node,s&&s.node),i,g[k],o,l),N[p]=!0):f(n,s&&s.node,null,g[k],o,l),k++);for(;C<=w;)null==d(s=h[C++])&&n.removeChild(s.node);for(var A in E)null==N[A]&&n.removeChild(E[A].node)}}return r.node=n},m=(e,n)=>!0!==e&&!1!==e&&e?"function"==typeof e.tag?((!n||null==n.memo||((e,n)=>{for(var t in e)if(e[t]!==n[t])return!0;for(var t in n)if(e[t]!==n[t])return!0})(n.memo,e.memo))&&((n=e.tag(e.memo)).memo=e.memo),n):e:y(""),p=e=>3===e.nodeType?y(e.nodeValue,e):v(e.nodeName.toLowerCase(),n,o.call(e.childNodes,p),e,null,1),v=(e,n,t,r,o,l)=>({type:e,props:n,children:t,node:r,key:o,tag:l}),y=(e,r)=>v(e,n,t,r,null,3),h=(e,n,r)=>v(e,n,l(r)?r:null==r?t:[r],null,n.key),g=e=>{var n,t,o=e.view,s=e.node,d=e.subscriptions,u=s&&p(s),c=[],m=e=>{t!==e&&(t=e,d&&(c=((e,n,t)=>{for(var r,o,l=[],i=0;i<e.length||i<n.length;i++)r=e[i],o=n[i],l.push(o&&!0!==o?!r||o[0]!==r[0]||a(o[1],r[1])?[o[0],o[1],o[0](t,o[1]),r&&r[2]()]:r:r&&r[2]());return l})(c,d(t),v)),o&&!n&&i(h,n=!0))},v=(e.middleware||r)((e,n)=>"function"==typeof e?v(e(t,n)):l(e)?"function"==typeof e[0]?v(e[0],e[1]):e.slice(1).map(e=>e&&!0!==e&&e[0](v,e[1]),m(e[0])):m(e)),y=function(e){v(this.tag[e.type],e)},h=()=>s=f(s.parentNode,s,u,u=o(t),y,n=!1);v(e.init)};module.exports={Code:class{constructor(e){this.options={i18n:{locale:"en-US",rtl:"ltr",translations:{}},controllers:[],...e}}render(n,t){const r=document.createElement("div");return r.classList.add("freedom-editor-blocks",this.constructor.name+"-block"),r.dataset.blockType=this.constructor.name,g({init:{i18n:n,savedData:"Test"},node:r,view:({i18n:n,savedData:t})=>h("pre",null,h("code",{contenteditable:!0},e(t)))}),r}save(e){const n=e.querySelector("code");if(""!==n.textContent)return{type:this.constructor.name,data:{code:n.textContent}}}}};
